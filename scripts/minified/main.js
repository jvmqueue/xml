define(["jQuery","Backbone","homeModel","boardModel","missionStatementModel","contactUsModel","affiliationsModel","membershipApplicationModel","newsModel","meetingsModel","eventsModel","interestGroupsModel","scholarshipsModel","booksaleModel","util","regEx","basePath","exception"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){"use strict";var t=window,u=document,v=b.Collection.extend({}),w=b.View.extend({collection:new v,el:"div",model:null,nav:{id:[],intDataIndex:[],data:[],tagsXml:[],tagsXmlChildsCommon:[],modelCid:[],templateId:[]},imagesToPreload:["images/BookSaleNoSocialLink2016Feb08.png","images/bridgeBigCenter.png"],events:{"click #navBarTop":"listenerNavBar","click #headColRightLogo, #cfuwAddressURL":"listenerOpenSmallWindow","click #footerTopRow ul li":"listenerNavFooter","submit #frmContactUs":"listenerFormSubmit"},newWindow:0,selectorViewContainer:"#boardMembers",idViewContainer:"boardMembers",$nodeViewContainer:null,selectorViewTitle:"#pageTitle",$nodeViewTitle:null,selectorViewNavBar:"#navBarTop",$nodeViewNavBar:null,idViewTitle:"pageTitle",selectorViewCfuwBackground:"#pageBackgroundImage",selectorViewPageTitle:"#templatePageTitle",$nodeViewPageTitle:null,$nodeViewCfuwBackground:null,cssClassBackgroundOpacity:"jsOpacity",cssClassShowBookSale:"jsBookSale",cssClassWhiteBackground:"jsCfuwBackgroundColor",blnSetBackgroundOpacity:!1,blnSetBackgroundWhite:!1,blnSetCfuwCascadingTopBackground:!1,intNumberOfFetches:0,initialize:function(b){var c=b;this.$nodeViewContainer=a(this.selectorViewContainer),this.$nodeViewCfuwBackground=a(this.selectorViewCfuwBackground),this.$nodeViewPageTitle=a(this.selectorViewPageTitle);for(var d in c)this.nav.id.push(c[d].control),this.nav.data.push(c[d].data),this.nav.modelCid.push(c[d].modelCid),c[d].intDataIndex?this.nav.intDataIndex.push(c[d].intDataIndex):"",c[d].tagsXml?this.nav.tagsXml.push(c[d].tagsXml):"",c[d].tagsXmlChildsCommon?this.nav.tagsXmlChildsCommon.push(c[d].tagsXmlChildsCommon):"",c[d].templateId?this.nav.templateId.push(c[d].templateId):"";this.setCustomListeners({selector:"#boardMembers",nameEvent:"http:response",fncListener:this.listenerEmailSuccess}),this.preLoadResources(),this.setRelativeToDomain({id:"linkStylesheet",attribute:"href",domains:["CFUW_Dev","127.0.0.1"]})},preLoadResources:function(){for(var a=this.imagesToPreload,b=[],c=0,d=a.length;d>c;c++)b[c]=new Image,b[c].src=a[c]},setRelativeToDomain:function(a){for(var b=a.id,c=a.domains,d=a.attribute,e=t.location.toString(),f=null,g=null,h=!1,i=0,j=c.length;j>i&&(h=p.fnc.blnIsInString(e,c[i]),h!==!0);i++);h&&(g=u.getElementById(b),f=g.getAttribute(d),f=p.fnc.strReplace(f,"minified","styles"),g.setAttribute(d,f))},renderDefault:function(b){var c=this.$nodeViewContainer,d=this.cssClassBackgroundOpacity;c.html(""),b===!0&&(c.removeClass(this.cssClassWhiteBackground),c.addClass(this.cssClassShowBookSale),a(this.selectorViewCfuwBackground).removeClass(d),a(this.selectorViewCfuwBackground).css({height:"793px"}),a("#boardMembers>*").html(""),a("#boardMembers").css({top:"-778px"}),c.removeClass("col-xs-10").addClass("col-xs-12"),c.removeClass("jsContainerPageText").removeClass("jsCfuwTopImageFade")),this.setFooterPosition()},render:function(b){if(u.getElementById("navBarTop").scrollIntoView(),!b)return void this.renderDefault(!0);var c=this.$nodeViewContainer;c.addClass(this.cssClassWhiteBackground),c.removeClass(this.cssClassShowBookSale),c.removeClass("col-xs-12").addClass("col-xs-10"),this.optimizePageHeight(),this.setFooterPosition();var d=b.idModel,e=(this.collection.where({cid:d})[0].get("hashCssClassToSet")||"",this.collection.where({cid:d})[0].get("arryTemplateData")),f=this.collection.where({cid:d})[0].get("pageTitle"),g=this.blnSetBackgroundOpacity,h=this.blnSetBackgroundWhite,i=this.blnAddPaddingTopSmallest,j="#"+b.idTemplate,k=a(j),l=k.html(),m=this.$nodeViewPageTitle,n=m.html(),o=_.template(l),p=_.template(n),q="",r=null;if(e.strNameTitle=f,"#templateContactUs"===j&&this.bindFormToValidate({idForm:"frmContactUs"}),e){for(var s=0,t=e.length;t>s;s++)q+=o(e[s]);r=this.$nodeViewContainer,r.html(q),q=p(e[0]),a("#colMainCenter").removeClass(this.cssClassShowBookSale)}g===!0?a(this.selectorViewCfuwBackground).addClass(this.cssClassBackgroundOpacity):a(this.selectorViewCfuwBackground).removeClass(this.cssClassBackgroundOpacity),h===!0?(r.addClass("jsCfuwBackgroundColor"),r.addClass("jsContainerPageText").addClass("jsCfuwTopImageFade")):r.removeClass("jsCfuwBackgroundColor"),i===!0?r.addClass("jsPaddingTopSmallest"):r.removeClass("jsPaddingTopSmallest"),a("#frmContactUsSubject")?a("#frmContactUsSubject").focus():""},setCustomListeners:function(b){var c=null,d=b.selector,e=t.setInterval(function(){a(d)&&(t.clearInterval(e),c=a(d),a(d).on(b.nameEvent,b.fncListener))},333)},setFooterPosition:function(){var b=this.$nodeViewContainer.attr("class"),c=this.cssClassShowBookSale,d=-978,e=0,f=p.fnc.blnIsInString(b,c),g=a(this.selectorViewCfuwBackground).offset(),h=g.top,i=this.$nodeViewContainer.outerHeight(),j=a("#footerMain");return f?void j.css({top:d+"px","margin-top":e}):void j.css("top",-(h+i-407)+"px")},optimizePageHeight:function(){var b=this.$nodeViewContainer.prop("offsetHeight"),c=(this.$nodeViewContainer.position().top,this.$nodeViewContainer.position().left,a(this.selectorViewNavBar));c.position().bottom;if(330>b){var d=360;this.$nodeViewCfuwBackground.css("height",d+"px"),this.$nodeViewContainer.css("top",-d+15+"px")}else this.$nodeViewCfuwBackground.css("height",b+30+"px"),this.$nodeViewContainer.css("top",-b+-7+"px")},listenerCheckFormFields:function(b){var c="jsValidationErrorCannotBeEmpty",d="jsValidationErrorBtn",e=a("#btnFormContactUsSend"),f=!0;a("."+c)&&a("."+c).length?f=!1:a("input","#frmContactUs").each(function(a,b){0===b.value.length&&(f=!1)}),f===!0?(e.removeAttr("disabled"),e.removeClass(d)):(e.attr("disabled","disabled"),e.addClass(d))},validateForm:function(b){var c=b.$nodeForm,d=(a("#btnFormContactUsSend"),c.find("input, textarea")),e=null,f=null,g=!0,h=!1,i="",j="jsValidationErrorCannotBeEmpty",k="jsValidationErrorInvalidFormat";return d.each(function(b,c){0===c.value.length?(a(c).parent().addClass(j),g=!1):("frmContactUsEmail"===c.getAttribute("id")?e=a(c):"",a(c).parent().removeClass(j))}),null!==e&&(i=e.val(),f=e.parent(),h=p.fnc.blnEmailIsValidFormat(i),h===!0?f.removeClass(k):f.addClass(k)),g=g&&h},bindFormToValidate:function(b){var c=(b.idForm,"#".concat(b.idForm)),d="frmContactUsEmail",e="frmContactUsText",f=t.setInterval(function(){u.getElementById(b.idForm)&&(t.clearInterval(f),o.fnc.overridejQueryValidatorRules({strIdInput:d,type:"email"}),o.fnc.overridejQueryValidatorRules({strIdInput:e,type:"minlength"}),a(c).validate({debug:!0,rules:{"contact-subject":{required:!0},"contact-first":{required:!0},"contact-last":{required:!0},"contact-email":{required:!0,email:!0},"contact-message":{required:!0}}}))},33)},listenerFormSubmit:function(b){b.stopPropagation(),b.preventDefault();var c=a(b.target),d=c.find("input[type=text], input[type=email], textarea"),e={};d.each(function(a,b){var c=b.value,d="";d=p.fnc.strReplaceAllSpecialChars(c),e[b.getAttribute("name")]=d}),a("#processingIcon").addClass("jsProcessingIcon"),a("#frmContactUs fieldset").addClass("jsHidden"),o.fnc.httpSend({selector:"#boardMembers",hashHeaders:e,url:"php/contact.php"})},listenerEmailSuccess:function(b,c){t.setTimeout(function(){var b="<h3>"+c+"</h3>";a("#processingIcon").removeClass("jsProcessingIcon"),a("#frmMessageContactUsSucccess").html(b).addClass("jsTextOpacity")},555)},listenerNavFooter:function(b){b.stopPropagation();var c=b.target,d="",e=null,f=null;if(c.getAttribute("id")?d=c.getAttribute("id"):"",d.length>1){e=p.fnc.strReplace(d,"Footer",""),f=u.getElementById(e);var g=a(this.selectorViewNavBar);g.trigger("click",f)}},listenerOpenSmallWindow:function(a){var b=a.target,c=b.getAttribute("id"),d=null,e={width:827,height:363};return d="headColRightLogo"===c?"http://www.cfuw.org/":"http://www.fcfdu.org/",this.newWindow=window.open(d,"name","height="+e.height+",width="+e.width),window.focus&&this.newWindow.focus(),!1},fetch:function(a){var b=a.blnShowDefault,c=a.model,d=a.view,e=a.strCid,f=a.strIdTemplate,g=a.strDataPath,h=a.hashCssClassToSet;b===!1&&c.get("blnDataHasBeenSet")===!1?(this.collection.add(c),c.fetch({dataType:"xml",success:function(){d.render({idModel:e,idTemplate:f}),c.set("hashCssClassToSet",h),c.set("blnDataHasBeenSet",!0)},error:function(b,e){if(!(d.intNumberOfFetches>3)){c.urlRoot=q.dir.fallback+g,d.fetch(a);var f="";f="200"==e.status?"XML Parse Error":e.status;var h=g+"	"+f+"	"+e.statusText;o.fnc.appendFragment({strText:h,strIdNodeExists:"fetchErrors"}),d.intNumberOfFetches++}}})):this.render({blnShowDefault:b})},listenerNavBar:function(a,b){var k=a.target;"undefined"!=typeof b&&(k=b);var o=parseInt(k.dataset.indexNumber,10),r=null,s=k.getAttribute("id")||k.parentNode.getAttribute("for");s=p.fnc.strRemoveWhiteSpace(s);var t=this.nav,u=this.model,v=null,w=null,x=null,y=null,z=null,A=null,B=!1,C=null,D=null,E=(new Date).getMilliseconds();switch(v=t.data[o]+"?noCache="+E,w=t.tagsXml[o],x=t.tagsXmlChildsCommon[o],y=t.templateId[o],r=t.intDataIndex[o],s){case"btnAffiliations":u=g.fnc.getInstance(),this.blnSetBackgroundOpacity=!0,this.blnSetBackgroundWhite=!0,this.blnAddPaddingTopSmallest=!0;break;case"btnBoardMembers":u=d.fnc.getInstance(),this.blnSetBackgroundOpacity=!0,this.blnSetBackgroundWhite=!0,this.blnAddPaddingTopSmallest=!0;break;case"btnBookSale":u=n.fnc.getInstance(),this.blnSetBackgroundOpacity=!1,this.blnSetBackgroundWhite=!0,this.blnAddPaddingTopSmallest=!0;break;case"btnContactUs":u=f.fnc.getInstance(),this.blnSetBackgroundWhite=!0;break;case"btnEvents":break;case"btnHome":u=c.fnc.getInstance(),this.blnSetBackgroundOpacity=!0,this.blnSetBackgroundWhite=!0,this.blnAddPaddingTopSmallest=!0;break;case"btnInterestGroups":u=l.fnc.getInstance(),this.blnSetBackgroundOpacity=!0,this.blnSetBackgroundWhite=!0,this.blnAddPaddingTopSmallest=!0;break;case"btnMeetings":u=j.fnc.getInstance(),this.blnSetBackgroundOpacity=!0,this.blnSetBackgroundWhite=!0,this.blnAddPaddingTopSmallest=!0;break;case"btnMembershipApplication":u=h.fnc.getInstance(),this.blnSetBackgroundOpacity=!0,this.blnSetBackgroundWhite=!0,this.blnAddPaddingTopSmallest=!0;break;case"btnMissionStatement":u=e.fnc.getInstance(),this.blnSetBackgroundOpacity=!0,this.blnSetBackgroundWhite=!0;break;case"btnNews":u=i.fnc.getInstance(),this.blnSetBackgroundOpacity=!0,this.blnSetBackgroundWhite=!0,this.blnAddPaddingTopSmallest=!0;break;case"btnScholarships":u=m.fnc.getInstance(),this.blnSetBackgroundOpacity=!0,this.blnSetBackgroundWhite=!0,this.blnAddPaddingTopSmallest=!0;break;default:return}return z=t.modelCid[r],u.set("templateId",y),u.set("tagsXml",w),u.set("tagsXmlChildsCommon",x),C=u.get("hashCssClassToSet"),D=u.get("hashHrefToSet"),A=u.get("templateId"),u.get("blnDataHasBeenSet")===!0?void this.render({idModel:z,idTemplate:A}):(u.urlRoot=q.dir.working+v,void this.fetch({blnShowDefault:B,model:u,view:this,strCid:z,strIdTemplate:A,strDataPath:v,hashCssClassToSet:C}))}});return{View:w}}),define(["jQuery","Backbone","commonModelDefaults","util"],function(a,b,c,d,e){"use strict";var f=b.Model.extend({defaults:{idAttribute:"affiliationsId",cid:"affiliationsId"},parse:function(a){var b=a,c=this.get("tagsXml"),e=this.get("tagsXmlChildsCommon"),f=d.fnc.parseXmlToJson(b,{childContainerTag:c[0],firstChildTag:c[1],tagsXmlChildsCommon:e});this.set("arryTemplateData",f.pageData),this.set("pageTitle",f.pageTitle),this.set("hashCssClassToSet",f.hashNodeClass["class"]),this.set("hashHrefToSet",f.hashNodeClass.href)},initialize:function(){for(var a in c.properties)this.set(a,c.properties[a])}}),g={instance:null,getInstance:function(){return g.instance?g.instance:(g.instance=new f,g.instance)}};return{fnc:g}}),define(["jQuery","Backbone","commonModelDefaults","util"],function(a,b,c,d,e){"use strict";var f=b.Model.extend({defaults:{cid:"boardId",idAttribute:"boardId"},parse:function(a){var b=a,c=this.get("tagsXml"),e=this.get("tagsXmlChildsCommon"),f=d.fnc.parseXmlToJson(b,{childContainerTag:c[0],firstChildTag:c[1],tagsXmlChildsCommon:e});this.set("arryTemplateData",f.pageData),this.set("pageTitle",f.pageTitle),this.set("hashCssClassToSet",f.hashNodeClass)},initialize:function(){for(var a in c.properties)this.set(a,c.properties[a])}}),g={instance:null,getInstance:function(){return g.instance?g.instance:(g.instance=new f,g.instance)}};return{fnc:g}}),define(["jQuery","Backbone","commonModelDefaults","util"],function(a,b,c,d,e){"use strict";var f=b.Model.extend({defaults:{cid:"bookSaleId",idAttribute:"bookSaleId"},parse:function(a){var b=a,c=this.get("tagsXml"),e=this.get("tagsXmlChildsCommon"),f=d.fnc.parseXmlToJson(b,{childContainerTag:c[0],firstChildTag:c[1],tagsXmlChildsCommon:e});this.set("arryTemplateData",f.pageData),this.set("pageTitle",f.pageTitle),this.set("hashCssClassToSet",f.hashNodeClass)},initialize:function(){for(var a in c.properties)this.set(a,c.properties[a])}}),g={instance:null,getInstance:function(){return g.instance?g.instance:(g.instance=new f,g.instance)}};return{fnc:g}}),define([],function(a){var b={arryTemplateData:!1,blnSetBackgroundOpacity:!1,blnDataHasBeenSet:!1,blnAddPaddingTopSmallest:!1,hashCssClassToSet:{},blnSetBackgroundOpacity:!1,pageTitle:null,data:null,tagsXml:null,tagsXmlChildsCommon:null};return{properties:b}}),define(["jQuery","Backbone","commonModelDefaults","util"],function(a,b,c,d,e){"use strict";var f=b.Model.extend({defaults:{idAttribute:"contactUsId",cid:"contactUsId"},parse:function(a){var b=a,c=this.get("tagsXml"),e=this.get("tagsXmlChildsCommon"),f=d.fnc.parseXmlToJson(b,{childContainerTag:c[0],firstChildTag:c[1],tagsXmlChildsCommon:e});this.set("arryTemplateData",f.pageData),this.set("pageTitle",f.pageTitle),this.set("hashCssClassToSet",f.hashNodeClass)},initialize:function(){for(var a in c.properties)this.set(a,c.properties[a])}}),g={instance:null,getInstance:function(){return g.instance?g.instance:(g.instance=new f,g.instance)}};return{fnc:g}}),define(["jQuery","Backbone","commonModelDefaults","util"],function(a,b,c,d,e){"use strict";var f=b.Model.extend({defaults:{idAttribute:"eventsId",cid:"eventsId"},parse:function(a){var b=a,c=this.get("tagsXml"),e=this.get("tagsXmlChildsCommon"),f=d.fnc.parseXmlToJson(b,{childContainerTag:c[0],firstChildTag:c[1],tagsXmlChildsCommon:e});this.set("arryTemplateData",f.pageData),this.set("pageTitle",f.pageTitle),this.set("hashCssClassToSet",f.hashNodeClass)},initialize:function(){for(var a in c.properties)this.set(a,c.properties[a])}}),g={instance:null,getInstance:function(){return g.instance?g.instance:(g.instance=new f,g.instance)}};return{fnc:g}}),define(["jQuery","Backbone","commonModelDefaults","util"],function(a,b,c,d,e){"use strict";var f=b.Model.extend({defaults:{idAttribute:"homeId",cid:"homeId"},urlRoot:"",parse:function(a){var b=a,c=this.get("tagsXml"),e=this.get("tagsXmlChildsCommon"),f=d.fnc.parseXmlToJson(b,{childContainerTag:c[0],firstChildTag:c[1],tagsXmlChildsCommon:e});this.set("arryTemplateData",f.pageData),this.set("pageTitle",f.pageTitle),this.set("hashCssClassToSet",f.hashNodeClass)},initialize:function(){for(var a in c.properties)this.set(a,c.properties[a])}}),g={instance:null,getInstance:function(){return g.instance?g.instance:(g.instance=new f,g.instance)}};return{fnc:g}}),define(["jQuery","Backbone","commonModelDefaults","util"],function(a,b,c,d,e){"use strict";var f=b.Model.extend({defaults:{idAttribute:"interestGroupsId",cid:"interestGroupsId"},parse:function(a){var b=a,c=this.get("tagsXml"),e=this.get("tagsXmlChildsCommon"),f=d.fnc.parseXmlToJson(b,{childContainerTag:c[0],firstChildTag:c[1],tagsXmlChildsCommon:e});this.set("arryTemplateData",f.pageData),this.set("pageTitle",f.pageTitle),this.set("hashCssClassToSet",f.hashNodeClass)},initialize:function(){for(var a in c.properties)this.set(a,c.properties[a])}}),g={instance:null,getInstance:function(){return g.instance?g.instance:(g.instance=new f,g.instance)}};return{fnc:g}}),define(["jQuery","Backbone","commonModelDefaults","util"],function(a,b,c,d,e){"use strict";var f=b.Model.extend({defaults:{idAttribute:"meetingsId",cid:"meetingsId"},parse:function(a){var b=a,c=this.get("tagsXml"),e=this.get("tagsXmlChildsCommon"),f=d.fnc.parseXmlToJson(b,{childContainerTag:c[0],firstChildTag:c[1],tagsXmlChildsCommon:e});this.set("arryTemplateData",f.pageData),this.set("pageTitle",f.pageTitle),this.set("hashCssClassToSet",f.hashNodeClass)},initialize:function(){for(var a in c.properties)this.set(a,c.properties[a])}}),g={instance:null,getInstance:function(){return g.instance?g.instance:(g.instance=new f,g.instance)}};return{fnc:g}}),define(["jQuery","Backbone","commonModelDefaults","util"],function(a,b,c,d,e){"use strict";var f=b.Model.extend({defaults:{idAttribute:"membershipApplicationId",cid:"membershipApplicationId"},parse:function(a){var b=a,c=this.get("tagsXml"),e=this.get("tagsXmlChildsCommon"),f=d.fnc.parseXmlToJson(b,{childContainerTag:c[0],firstChildTag:c[1],tagsXmlChildsCommon:e});this.set("arryTemplateData",f.pageData),this.set("pageTitle",f.pageTitle),this.set("hashCssClassToSet",f.hashNodeClass)},initialize:function(){for(var a in c.properties)this.set(a,c.properties[a])}}),g={instance:null,getInstance:function(){return g.instance?g.instance:(g.instance=new f,g.instance)}};return{fnc:g}}),define(["jQuery","Backbone","commonModelDefaults","util"],function(a,b,c,d,e){"use strict";var f=b.Model.extend({defaults:{idAttribute:"missionStatementId",cid:"missionStatementId"},parse:function(a){var b=a,c=this.get("tagsXml"),e=this.get("tagsXmlChildsCommon"),f=d.fnc.parseXmlToJson(b,{childContainerTag:c[0],firstChildTag:c[1],tagsXmlChildsCommon:e});this.set("arryTemplateData",f.pageData),this.set("pageTitle",f.pageTitle),this.set("hashCssClassToSet",f.hashNodeClass)},initialize:function(a){for(var b in c.properties)this.set(b,c.properties[b])}}),g={instance:null,getInstance:function(){return g.instance?g.instance:(g.instance=new f,g.instance)}};return{fnc:g}}),define(["jQuery","Backbone","commonModelDefaults","util"],function(a,b,c,d,e){"use strict";var f=b.Model.extend({defaults:{idAttribute:"newsId",cid:"newsId"},parse:function(a){var b=a,c=this.get("tagsXml"),e=this.get("tagsXmlChildsCommon"),f=d.fnc.parseXmlToJson(b,{childContainerTag:c[0],firstChildTag:c[1],tagsXmlChildsCommon:e});this.set("arryTemplateData",f.pageData),this.set("pageTitle",f.pageTitle),this.set("hashCssClassToSet",f.hashNodeClass)},initialize:function(){for(var a in c.properties)this.set(a,c.properties[a])}}),g={instance:null,getInstance:function(){return g.instance?g.instance:(g.instance=new f,g.instance)}};return{fnc:g}}),define(["jQuery","Backbone","commonModelDefaults","util"],function(a,b,c,d,e){"use strict";var f=b.Model.extend({defaults:{idAttribute:"scholarshipsId",cid:"scholarshipsId"},parse:function(a){var b=a,c=this.get("tagsXml"),e=this.get("tagsXmlChildsCommon"),f=d.fnc.parseXmlToJson(b,{childContainerTag:c[0],firstChildTag:c[1],tagsXmlChildsCommon:e});this.set("arryTemplateData",f.pageData),this.set("pageTitle",f.pageTitle),this.set("hashCssClassToSet",f.hashNodeClass)},initialize:function(){for(var a in c.properties)this.set(a,c.properties[a])}}),g={instance:null,getInstance:function(){return g.instance?g.instance:(g.instance=new f,g.instance)}};return{fnc:g}});